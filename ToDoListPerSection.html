<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ניהול רשימות משימות</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container-fluid">
        <h1 class="text-center">צ'ק ליסט לתכנון החתונה</h1>
        <div class="row" style="justify-content: center;">
            <div class="col-3" id="design">
                <h3>עיצוב</h3>
                <input type="text" class="newTaskInput form-control" placeholder="הזן משימה חדשה">
                <button onclick="addMission('design')" class="btn" style="background-color: #d4af37; color: white;">הוסף</button>
                <div class="taskContainer mt-3"></div>
            </div>

            <div class="col-3" id="food">
                <h3>אוכל</h3>
                <input type="text" class="newTaskInput form-control" placeholder="הזן משימה חדשה">
                <button onclick="addMission('food')" class="btn" style="background-color: #d4af37; color: white;">הוסף</button>
                <div class="taskContainer mt-3"></div>
            </div>

            <div class="col-3" id="sapak">
                <h3>ספקים</h3>
                <input type="text" class="newTaskInput form-control" placeholder="הזן משימה חדשה">
                <button onclick="addMission('sapak')" class="btn" style="background-color: #d4af37; color: white;">הוסף</button>
                <div class="taskContainer mt-3"></div>
            </div>

            <div class="col-3" id="clothes">
                <h3>ביגוד</h3>
                <input type="text" class="newTaskInput form-control" placeholder="הזן משימה חדשה">
                <button onclick="addMission('clothes')" class="btn" style="background-color: #d4af37; color: white;">הוסף</button>
                <div class="taskContainer mt-3"></div>
            </div>

            <div class="col-3" id="attraction">
                <h3>אטרקציות</h3>
                <input type="text" class="newTaskInput form-control" placeholder="הזן משימה חדשה">
                <button onclick="addMission('attraction')" class="btn " style="background-color: #d4af37; color: white;">הוסף</button>
                <div class="taskContainer mt-3"></div>
            </div>

            <div class="col-3" id="else">
                <h3>אחר</h3>
                <input type="text" class="newTaskInput form-control" placeholder="הזן משימה חדשה">
                <button onclick="addMission('else')" class="btn " style="background-color: #d4af37; color: white;">הוסף</button>
                <div class="taskContainer mt-3"></div>
            </div>
        </div>
    </div>

    <script>
        let taskCounter = 0;

        const createTaskElement = (taskContainer, categoryId, taskText, taskId = `task${taskCounter}`, completed = false) => {
            const newTaskDiv = document.createElement("div");
            const newCheckBox = document.createElement("input");
            const newLabel = document.createElement("label");
            const deleteButton = document.createElement("button");

            newCheckBox.type = "checkbox";
            newCheckBox.id = taskId;
            newCheckBox.checked = completed;
            newCheckBox.style = "width: 5%;"
            newLabel.htmlFor = taskId;
            newLabel.textContent = taskText;
            deleteButton.textContent = "מחק";
            deleteButton.className = "btn  btn-sm ms-2";
            deleteButton.style = "background-color: #d4af37; color: white;";

            deleteButton.onclick = () => {
                taskContainer.removeChild(newTaskDiv);
            };

            newTaskDiv.className = "d-flex justify-content-end my-2";
            newTaskDiv.appendChild(newCheckBox);
            newTaskDiv.appendChild(newLabel);
            newTaskDiv.appendChild(deleteButton);

            taskContainer.appendChild(newTaskDiv);

            taskCounter++;
        };

        const addMission = (categoryId) => {
            const category = document.getElementById(categoryId);
            const inputField = category.querySelector(".newTaskInput");
            const taskContainer = category.querySelector(".taskContainer");
            const taskText = inputField.value.trim();

            if (taskText === "") {
                alert("אנא הזן משימה לפני הוספה");
                return;
            }

            createTaskElement(taskContainer, categoryId, taskText);
            inputField.value = "";
        };
    </script>
</body>
</html>
