<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ניהול רשימות משימות</title>
    <link rel="stylesheet" href="style.css">
</head>

</head>
<script>
    let taskCounter = 24; 
    const addMission = (categoryId) => {
    const category = document.getElementById(categoryId); // Find the category
    const inputField = category.querySelector(".newTaskInput");
    const taskText = inputField.value.trim(); // Get the user's input

    if (taskText === "") {
        alert("אנא הזן משימה לפני הוספה.");
        return;
    }

    const newTaskDiv = document.createElement("div");
    const newCheckbox = document.createElement("input");
    const newLabel = document.createElement("label");
    const deleteButton = document.createElement("button");

    // Configure new task elements
    newCheckbox.type = "checkbox";
    newCheckbox.id = `task${taskCounter}`;
    newLabel.htmlFor = `task${taskCounter}`;
    newLabel.textContent = taskText;
    deleteButton.textContent = "מחק";
    deleteButton.className = "deleteTaskBtn";

    // Add delete functionality
    deleteButton.onclick = () => {
        category.removeChild(newTaskDiv);
    };

    // Assemble the task div
    newTaskDiv.appendChild(newCheckbox);
    newTaskDiv.appendChild(newLabel);
    newTaskDiv.appendChild(deleteButton);

    // Find the last existing task (before the input and button div)
    const taskContainer = category.querySelectorAll("div");
    const lastTask = taskContainer[taskContainer.length - 2]; // Second-to-last div (before input field)

    // Insert the new task before the last div
    category.insertBefore(newTaskDiv, lastTask.nextSibling);

    // Clear the input field
    inputField.value = "";

    // Increment the task counter
    taskCounter++;
};

</script>

<body>
    <header>
        <h1>צ'ק ליסט לתכנון החתונה</h1>
    </header>

    <div>
        <section id="categories">
            <!-- first category -->
            <div class="category-sixMonths" id="category-sixMonths">
                <h2>6 חודשים לפני</h2>
                <div>
                    <input type="checkbox" id="task1"> 
                    <label for="task1">קביעת תקציב</label>
                </div>
                <div>
                    <input type="checkbox" id="task2"> 
                    <label for="task2">הכנת רשימת מוזמנים</label>
                </div>
                <div>
                    <input type="checkbox" id="task3"> 
                    <label for="task3">בחירת תאריך</label>
                </div>
                <div>
                    <input type="checkbox" id="task4"> 
                    <label for="task4">מציאת אולם</label>
                </div>
                <div>
                    <input type="text" class="newTaskInput" placeholder="הזן משימה חדשה">
                    <button onclick="addMission('category-sixMonths')" class="category-sixMonths">הוסף</button>
                </div>
            </div>

            <!-- second category -->
            <div class="category-fourMonths" id="category-fourMonths">
                <h2>4 חודשים לפני</h2>
                <div><input type="checkbox" id="task5"> <label for="task5">צלם</label></div>
                <div><input type="checkbox" id="task6"> <label for="task6">דיג'יי</label></div>
                <div>   <input type="checkbox" id="task7"> <label for="task6">שמלה</label></div>
                <div>   <input type="checkbox" id="task8"> <label for="task8">חליפה</label></div>
                <div>   <input type="checkbox" id="task9"> <label for="task9">מאפר/ת</label></div>
                <div>   <input type="checkbox" id="task10"> <label for="task1o">מעצב/ת שיער</label></div>
                <div>
                    <input type="text" class="newTaskInput" placeholder="הזן משימה חדשה">
                    <button onclick="addMission('category-fourMonths')" class="category-fourMonths">הוסף</button>
                </div>
            </div>

            <!-- third category -->
            <div class="category-twoMonths" id= "category-twoMonths" >
                <h2>2 חודשים לפני</h2>
                <div><input type="checkbox" id="task11"> <label for="task11">עיצוב הזמנות</label></div>
                <div><input type="checkbox" id="task12"> <label for="task12">הזמנת עוגה</label></div>
                <div><input type="checkbox" id="task13"> <label for="task13">פתיחת תיק ברבנות</label></div>
                <div><input type="checkbox" id="task14"> <label for="task14">רב</label></div>
                <div><input type="checkbox" id="task15"> <label for="task15">אטרקציות</label></div>
                <div><input type="checkbox" id="task16"> <label for="task16">זר כלה</label></div>
                <div><input type="checkbox" id="task17"> <label for="task17">רכב חתן-כלה</label></div>
                <div><input type="checkbox" id="task18"> <label for="task18">פגישה עם מעצב</label></div>
                <div>
                    <input type="text" class="newTaskInput" placeholder="הזן משימה חדשה">
                    <button onclick="addMission('category-twoMonths')" class="category-twoMonths">הוסף</button>
                </div>
            </div>
            <!-- four category -->

            <div class="category-oneMonth" id="category-oneMonth">
                <h2>חודש לפני</h2>
                <div><input type="checkbox" id="task19"> <label for="task19">טבעות נישואין</label></div>
                <div><input type="checkbox" id="task20"> <label for="task20">תכשיטים</label></div>
                <div><input type="checkbox" id="task21"> <label for="task21">נעליים</label></div>
                <div><input type="checkbox" id="task22"> <label for="task22">תזכורת וסגירת 'קצוות' עם כל הספקים</label></div>
                <div><input type="checkbox" id="task23"> <label for="task23">שליחת הזמנות</label></div>
                <div>
                    <input type="text" class="newTaskInput" placeholder="הזן משימה חדשה">
                    <button onclick="addMission('category-oneMonth')" class="category-oneMonth">הוסף</button>
                </div>
 
            </div>            
        </section>
    </div>
</body>
</html>